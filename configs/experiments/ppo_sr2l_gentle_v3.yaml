defaults:
  - /train/base              # Use base PPO training config
  - /env/realant             # Use RealAnt environment

# Experiment settings
experiment:
  description: "PPO + SR2L Gentle v3 - Using gentle curriculum that worked for DR v2"
  name: ppo_sr2l_gentle_v3
  tags: 
    - ppo
    - sr2l
    - gentle-v3
    - joint-perturbations
    - extended-warmup
    - 30M-steps
    - pretrained-init

# Enable SR2L (Smooth Regularized RL)
sr2l:
  enabled: true
  lambda_smooth: 0.001          # Very gentle regularization (like DR v2)
  perturbation_std: 0.01        # Small perturbations (like DR v2 noise)
  max_perturbation: 0.05        # Cap maximum perturbation
  warmup_steps: 8000000         # 8M warmup like DR v2
  curriculum_steps: 15000000    # 15M progressive increase like DR v2
  perturb_only_joints: true     # Only perturb joint observations (dims 13-28)
  joint_start_dim: 13
  joint_end_dim: 28
  
  # Use curriculum like DR v2
  use_curriculum: true

# Disable Domain Randomization (this is SR2L only)
domain_randomization:
  enabled: false

# Environment settings - Match baseline exactly (SuccessRewardWrapper)
env:
  name: RealAntMujoco-v0
  use_success_reward: true       # CRITICAL: Match baseline wrapper exactly
  use_domain_randomization: false # Disable DR (SR2L only)
  
# BEEFED UP Training duration - Give it the time it needs like DR v2!
total_timesteps: 30000000        # 30M steps total (same as DR v2)

# CRITICAL: Initialize from CORRECT smooth walking baseline (SECURED in done/)
pretrained_model: done/ppo_baseline_ueqbjf2x/best_model/best_model.zip

# PPO hyperparameters - MATCH BASELINE EXACTLY for consistency
ppo:
  learning_rate: 0.0003          # MATCH baseline exactly
  n_steps: 2048
  batch_size: 2048               # MATCH baseline
  n_epochs: 10                   # MATCH baseline
  gamma: 0.99                    # MATCH baseline
  gae_lambda: 0.95               # MATCH baseline
  clip_range: 0.2                # MATCH baseline
  ent_coef: 0.0                  # MATCH baseline exactly
  vf_coef: 0.5                   # MATCH baseline
  max_grad_norm: 0.5             # MATCH baseline

# Enable W&B logging
logging:
  wandb: true
  wandb_project: "robust-quadruped-rl"
  wandb_entity: "anandpatel1221178-university-of-the-witswatersrand"
  verbose: 1

# Network architecture - CRITICAL: Match baseline exactly  
policy:
  hidden_sizes:
    - 64                         # Same as baseline
    - 128                        # Same as baseline
  activation: relu               # Same as baseline

# Save frequently to monitor gentle curriculum progress
save_freq: 100000
eval_freq: 25000