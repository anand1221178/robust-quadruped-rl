defaults:
  - /train/sr2l              # Use SR2L training config
  - /env/realant             # Use RealAnt environment

# Experiment settings
experiment:
  description: "PPO + SR2L BIG NETWORK FROM SCRATCH - 256x256, joint-only perturbations, aggressive curriculum"
  name: ppo_sr2l_big_scratch
  tags: 
    - ppo
    - sr2l
    - phase3
    - from-scratch
    - big-network
    - joint-perturbations
    - aggressive-curriculum

# SR2L configuration - VERY gentle for from-scratch
sr2l:
  enabled: true
  lambda: 0.002                   # Very small target lambda
  perturbation_std: 0.005         # Tiny joint sensor noise
  warmup_steps: 5000000           # 5M warmup - learn to walk first!
  apply_frequency: 8              # Apply very rarely
  max_perturbation: 0.02          # Very small max
  use_curriculum: true            # ENABLE curriculum learning
  curriculum_steps: 10000000      # 10M steps to reach full lambda (extremely gradual)

# Environment settings - Use target walking
env:
  name: RealAntMujoco-v0
  use_target_walking: true       # Goal-directed navigation
  target_distance: 5.0           # Same as baseline
  
# NO pretrained model - train from scratch
# pretrained_model: null

# Very long training since from scratch
total_timesteps: 30000000        # 30M steps

# BIG NETWORK ARCHITECTURE
policy:
  hidden_sizes:
    - 256                        # Much larger
    - 256                        # Much larger
  activation: tanh               # Smoother gradients

# PPO hyperparameters - adjusted for from-scratch
ppo:
  learning_rate: 0.0003          # Standard learning rate
  n_steps: 4096                  # More samples per update
  batch_size: 4096               # Bigger batches
  n_epochs: 10                   
  gamma: 0.99
  gae_lambda: 0.95
  clip_range: 0.2
  ent_coef: 0.01                 # Small entropy to encourage exploration
  vf_coef: 0.5
  max_grad_norm: 0.5             

# Enable W&B logging
logging:
  wandb: true
  wandb_project: "robust-quadruped-rl"
  wandb_entity: "anandpatel1221178-university-of-the-witswatersrand"
  verbose: 1

# Save frequently 
save_freq: 100000
eval_freq: 25000